<!DOCTYPE html>
<html>
<head>
    <title>CASNOS Logo Test - Comprehensive</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        img { max-width: 200px; max-height: 200px; border: 1px solid #ddd; margin: 10px; }
        .error { color: red; }
        .success { color: green; }
        .screen-test { margin: 30px 0; padding: 20px; border: 2px solid #007acc; border-radius: 10px; }
        .screen-test h2 { color: #007acc; margin-top: 0; }
        iframe { width: 100%; height: 400px; border: 1px solid #ddd; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>ğŸ« CASNOS Logo & System Test</h1>

    <div class="test-section">
        <h3>ğŸ“ Direct File Access Tests</h3>

        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
            <div>
                <h4>Test 1: /logo.png</h4>
                <img src="/logo.png" alt="Logo from /logo.png" onload="showSuccess('result1')" onerror="showError('result1')">
                <div id="result1"></div>
            </div>

            <div>
                <h4>Test 2: /assets/logo.png</h4>
                <img src="/assets/logo.png" alt="Logo from /assets/logo.png" onload="showSuccess('result2')" onerror="showError('result2')">
                <div id="result2"></div>
            </div>

            <div>
                <h4>Test 3: logo.png (relative)</h4>
                <img src="logo.png" alt="Logo from logo.png" onload="showSuccess('result3')" onerror="showError('result3')">
                <div id="result3"></div>
            </div>

            <div>
                <h4>Test 4: assets/logo.png (relative)</h4>
                <img src="assets/logo.png" alt="Logo from assets/logo.png" onload="showSuccess('result4')" onerror="showError('result4')">
                <div id="result4"></div>
            </div>
        </div>
    </div>

    <div class="screen-test">
        <h2>ğŸ›’ Customer Screen Test</h2>
        <p>Testing logo display in Customer Screen</p>
        <iframe src="/?t=logo-test-customer" title="Customer Screen"></iframe>
    </div>

    <div class="screen-test">
        <h2>ğŸ‘¨â€ğŸ’¼ Employee Screen Test</h2>
        <p>Testing logo display in Employee Screen</p>
        <iframe src="/?screen=employee&t=logo-test-employee" title="Employee Screen"></iframe>
    </div>

    <div class="screen-test">
        <h2>ğŸ›¡ï¸ Admin Screen Test</h2>
        <p>Testing logo display in Admin Screen</p>
        <iframe src="/?screen=admin&t=logo-test-admin" title="Admin Screen"></iframe>
    </div>

    <div class="screen-test">
        <h2>ğŸ“º Display Screen Test</h2>
        <p>Testing logo display in Display Screen</p>
        <iframe src="/?screen=display&t=logo-test-display" title="Display Screen"></iframe>
    </div>

    <div class="test-section">
        <h3>ğŸ” Diagnostic Information</h3>
        <div id="diagnostics"></div>
    </div>

    <script>
        let testCount = 0;
        let successCount = 0;
        let errorCount = 0;

        function showSuccess(resultId) {
            testCount++;
            successCount++;
            const resultDiv = document.getElementById(resultId);
            resultDiv.innerHTML = '<span class="success">âœ… SUCCESS: Logo loaded!</span>';
            updateSummary();
        }

        function showError(resultId) {
            testCount++;
            errorCount++;
            const resultDiv = document.getElementById(resultId);
            resultDiv.innerHTML = '<span class="error">âŒ FAILED: Could not load logo</span>';
            updateSummary();
        }

        function updateSummary() {
            if (testCount === 4) {
                const diagnosticsDiv = document.getElementById('diagnostics');
                diagnosticsDiv.innerHTML = `
                    <h4>ğŸ“Š Test Summary</h4>
                    <p><strong>Total Tests:</strong> ${testCount}</p>
                    <p><strong>âœ… Successful:</strong> ${successCount}</p>
                    <p><strong>âŒ Failed:</strong> ${errorCount}</p>
                    <p><strong>ğŸ¯ Success Rate:</strong> ${Math.round((successCount/testCount)*100)}%</p>
                    <h4>ğŸŒ Current Environment</h4>
                    <p><strong>URL:</strong> ${window.location.href}</p>
                    <p><strong>Base URL:</strong> ${window.location.origin}</p>
                    <p><strong>User Agent:</strong> ${navigator.userAgent}</p>
                `;
            }
        }

        // Test fetch access to logo files
        async function testFetchAccess() {
            const paths = ['/logo.png', '/assets/logo.png', 'logo.png', 'assets/logo.png'];

            console.log('ğŸ” Testing fetch access to logo files...');

            for (const path of paths) {
                try {
                    const response = await fetch(path, { method: 'HEAD' });
                    console.log(`âœ… Fetch test ${path}:`, response.status, response.ok);
                } catch (error) {
                    console.error(`âŒ Fetch test ${path} failed:`, error);
                }
            }
        }

        // Run diagnostics after page loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                testFetchAccess();

                // Add some diagnostic info
                console.log('ğŸ« CASNOS Logo Test loaded');
                console.log('ğŸ“‚ Testing from:', window.location.href);
                console.log('ğŸ”§ Environment:', {
                    protocol: window.location.protocol,
                    host: window.location.host,
                    pathname: window.location.pathname
                });
            }, 1000);
        });
    </script>
</body>
</html>
