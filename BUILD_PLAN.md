# ğŸ—ï¸ CASNOS Build Plan - Ø®Ø·Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©

## ğŸ“‹ Ø§Ù„Ù‡Ø¯Ù Ù…Ù† Ø§Ù„Ø¨Ù†Ø§Ø¡
Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª ØªÙ†ÙÙŠØ°ÙŠØ© Ù…Ù†ÙØµÙ„Ø© Ù„ÙƒÙ„ Ø´Ø§Ø´Ø© Ù…Ù† Ø´Ø§Ø´Ø§Øª CASNOS Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø£Ù† ÙƒÙ„ Ø´Ø§Ø´Ø© ØªØ­ØªÙˆÙŠ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§.

## ğŸ¯ Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨

### ğŸ“ Ù‡ÙŠÙƒÙ„ Ù…Ø¬Ù„Ø¯ dist Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:
```
dist/
â”œâ”€â”€ CASNOS-Display/
â”‚   â”œâ”€â”€ CASNOS-Display.exe
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â”œâ”€â”€ assets/logo.png
â”‚   â”‚   â”œâ”€â”€ voice/ (Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„ØµÙˆØª)
â”‚   â”‚   â”œâ”€â”€ video/ (Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ)
â”‚   â”‚   â””â”€â”€ fonts/ (Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ·)
â”‚   â””â”€â”€ data/ (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©)
â”‚
â”œâ”€â”€ CASNOS-Customer/
â”‚   â”œâ”€â”€ CASNOS-Customer.exe
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â”œâ”€â”€ assets/logo.png
â”‚   â”‚   â””â”€â”€ fonts/ (Ø§Ù„Ø®Ø·ÙˆØ· ÙÙ‚Ø·)
â”‚   â””â”€â”€ data/ (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©)
â”‚
â”œâ”€â”€ CASNOS-Window/
â”‚   â”œâ”€â”€ CASNOS-Window.exe
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â”œâ”€â”€ assets/logo.png
â”‚   â”‚   â””â”€â”€ fonts/ (Ø§Ù„Ø®Ø·ÙˆØ· ÙÙ‚Ø·)
â”‚   â””â”€â”€ data/ (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©)
â”‚
â”œâ”€â”€ CASNOS-Admin/
â”‚   â”œâ”€â”€ CASNOS-Admin.exe
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â”œâ”€â”€ assets/logo.png
â”‚   â”‚   â””â”€â”€ fonts/ (Ø§Ù„Ø®Ø·ÙˆØ· ÙÙ‚Ø·)
â”‚   â””â”€â”€ data/ (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©)
â”‚
â””â”€â”€ CASNOS-Server/
    â”œâ”€â”€ CASNOS-Server.exe
    â”œâ”€â”€ resources/
    â”‚   â”œâ”€â”€ logo.png
    â”‚   â””â”€â”€ assets/logo.png
    â””â”€â”€ data/ (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)
```

## ğŸ› ï¸ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: ØªØ­Ø¶ÙŠØ± Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡
1. **ØªØ­Ø¯ÙŠØ« electron-builder.yml**
   - Ø¥Ù†Ø´Ø§Ø¡ ØªÙƒÙˆÙŠÙ†Ø§Øª Ù…Ù†ÙØµÙ„Ø© Ù„ÙƒÙ„ Ø´Ø§Ø´Ø©
   - ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„ÙƒÙ„ Ø´Ø§Ø´Ø©
   - Ø¶Ø¨Ø· Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠØ©

2. **Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙƒØ±ÙŠØ¨Øª Ø¨Ù†Ø§Ø¡ Ù…Ø®ØµØµ**
   ```javascript
   // build-screens.js
   const buildScreens = async () => {
     const screens = ['display', 'customer', 'window', 'admin'];

     for (const screen of screens) {
       await buildSingleScreen(screen);
     }
   };
   ```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ù„ÙƒÙ„ Ø´Ø§Ø´Ø©

#### ğŸ–¥ï¸ Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø±Ø¶ (Display)
**Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
- âœ… Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„ØµÙˆØª (voice/)
- âœ… Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (video/)
- âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ· (fonts/)
- âœ… Ø§Ù„Ù„ÙˆØ¬Ùˆ (logo.png, assets/logo.png)

**Ø§Ù„Ù…Ø³Ø§Ø±:** `CASNOS-Display/`

#### ğŸ‘¥ Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customer)
**Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
- âœ… Ø§Ù„Ø®Ø·ÙˆØ· ÙÙ‚Ø· (fonts/)
- âœ… Ø§Ù„Ù„ÙˆØ¬Ùˆ (logo.png, assets/logo.png)
- âŒ Ù„Ø§ ØªØ­ØªØ§Ø¬: voice/, video/

**Ø§Ù„Ù…Ø³Ø§Ø±:** `CASNOS-Customer/`

#### ğŸªŸ Ø´Ø§Ø´Ø© Ø§Ù„Ø´Ø¨Ø§Ùƒ (Window)
**Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
- âœ… Ø§Ù„Ø®Ø·ÙˆØ· ÙÙ‚Ø· (fonts/)
- âœ… Ø§Ù„Ù„ÙˆØ¬Ùˆ (logo.png, assets/logo.png)
- âŒ Ù„Ø§ ØªØ­ØªØ§Ø¬: voice/, video/

**Ø§Ù„Ù…Ø³Ø§Ø±:** `CASNOS-Window/`

#### âš™ï¸ Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Admin)
**Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
- âœ… Ø§Ù„Ø®Ø·ÙˆØ· ÙÙ‚Ø· (fonts/)
- âœ… Ø§Ù„Ù„ÙˆØ¬Ùˆ (logo.png, assets/logo.png)
- âŒ Ù„Ø§ ØªØ­ØªØ§Ø¬: voice/, video/

**Ø§Ù„Ù…Ø³Ø§Ø±:** `CASNOS-Admin/`

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø®ØµØµ

```javascript
// build-custom.js
const { execSync } = require('child_process');
const fs = require('fs-extra');
const path = require('path');

const SCREENS = {
  display: {
    name: 'CASNOS-Display',
    resources: ['logo.png', 'assets/', 'fonts/', 'voice/', 'video/'],
    screenMode: 'display'
  },
  customer: {
    name: 'CASNOS-Customer',
    resources: ['logo.png', 'assets/', 'fonts/'],
    screenMode: 'customer'
  },
  window: {
    name: 'CASNOS-Window',
    resources: ['logo.png', 'assets/', 'fonts/'],
    screenMode: 'window'
  },
  admin: {
    name: 'CASNOS-Admin',
    resources: ['logo.png', 'assets/', 'fonts/'],
    screenMode: 'admin'
  }
};

async function buildScreen(screenType) {
  const config = SCREENS[screenType];

  // 1. Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙƒÙˆØ¯
  process.env.SCREEN_MODE = config.screenMode;
  execSync('npm run build', { stdio: 'inherit' });

  // 2. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ù…Ø®ØµØµ
  const outputDir = path.join('dist', config.name);
  await fs.ensureDir(outputDir);

  // 3. Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠØ©
  await fs.copy('dist/win-unpacked', outputDir);

  // 4. ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ØºÙŠØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
  await cleanupResources(outputDir, config.resources);

  // 5. Ø¥Ø¹Ø§Ø¯Ø© ØªØ³Ù…ÙŠØ© Ø§Ù„Ù…Ù„Ù Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ
  await fs.rename(
    path.join(outputDir, 'CASNOS.exe'),
    path.join(outputDir, `${config.name}.exe`)
  );
}
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: ØªØ­Ø¯ÙŠØ« electron-builder.yml

```yaml
# electron-builder-display.yml
appId: com.focusplus.casnos.display
productName: CASNOS Display
directories:
  buildResources: build
files:
  - from: "out/renderer"
    filter: ["**/*"]
  - from: "out/main"
    filter: ["**/*"]
  - from: "out/preload"
    filter: ["**/*"]
asarUnpack:
  - resources/logo.png
  - resources/assets/**
  - resources/fonts/**
  - resources/voice/**
  - resources/video/**
win:
  executableName: CASNOS-Display
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø³ÙƒØ±ÙŠØ¨Øª package.json Ø§Ù„Ø¬Ø¯ÙŠØ¯

```json
{
  "scripts": {
    "build:all-screens": "node build-custom.js",
    "build:display": "cross-env SCREEN_MODE=display npm run build && electron-builder --config electron-builder-display.yml",
    "build:customer": "cross-env SCREEN_MODE=customer npm run build && electron-builder --config electron-builder-customer.yml",
    "build:window": "cross-env SCREEN_MODE=window npm run build && electron-builder --config electron-builder-window.yml",
    "build:admin": "cross-env SCREEN_MODE=admin npm run build && electron-builder --config electron-builder-admin.yml"
  }
}
```

## ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨Ù†Ø§Ø¡

### Ø§Ø®ØªØ¨Ø§Ø± ÙƒÙ„ Ø´Ø§Ø´Ø©:
1. **Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø±Ø¶:** ØªØ´ØºÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ + ØµÙˆØª
2. **Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:** Ø·Ø¨Ø§Ø¹Ø© ØªØ°Ø§ÙƒØ±
3. **Ø´Ø§Ø´Ø© Ø§Ù„Ø´Ø¨Ø§Ùƒ:** Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ØªØ°Ø§ÙƒØ±
4. **Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:** Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…

### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ø±Ø¯:
```bash
# ÙØ­Øµ Ù…Ø­ØªÙˆÙŠØ§Øª ÙƒÙ„ Ù…Ø¬Ù„Ø¯
ls -la dist/CASNOS-Display/resources/
ls -la dist/CASNOS-Customer/resources/
ls -la dist/CASNOS-Window/resources/
ls -la dist/CASNOS-Admin/resources/
```

## ğŸ“¦ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹

- **CASNOS-Display:** ~150-200 MB (ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯)
- **CASNOS-Customer:** ~80-100 MB (Ø®Ø·ÙˆØ· + Ù„ÙˆØ¬Ùˆ ÙÙ‚Ø·)
- **CASNOS-Window:** ~80-100 MB (Ø®Ø·ÙˆØ· + Ù„ÙˆØ¬Ùˆ ÙÙ‚Ø·)
- **CASNOS-Admin:** ~80-100 MB (Ø®Ø·ÙˆØ· + Ù„ÙˆØ¬Ùˆ ÙÙ‚Ø·)

## ğŸ¯ Ù…Ù…ÙŠØ²Ø§Øª Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ…ÙŠÙ…

1. **Ø§Ù„Ø£Ù…Ø§Ù†:** ÙƒÙ„ Ø´Ø§Ø´Ø© Ù…Ù†ÙØµÙ„Ø© ØªÙ…Ø§Ù…Ù‹Ø§
2. **Ø§Ù„Ø£Ø¯Ø§Ø¡:** ÙƒÙ„ Ø´Ø§Ø´Ø© ØªØ­ØªÙˆÙŠ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡
3. **Ø§Ù„ØªÙˆØ²ÙŠØ¹:** ÙŠÙ…ÙƒÙ† ØªÙˆØ²ÙŠØ¹ ÙƒÙ„ Ø´Ø§Ø´Ø© Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² Ù…Ù†ÙØµÙ„
4. **Ø§Ù„ØµÙŠØ§Ù†Ø©:** Ø³Ù‡ÙˆÙ„Ø© ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø´Ø© ÙˆØ§Ø­Ø¯Ø© Ø¯ÙˆÙ† ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø§Ù‚ÙŠ
5. **Ø§Ù„Ù…ÙˆØ§Ø±Ø¯:** Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù…Ø«Ù„ Ù„Ù„Ø°Ø§ÙƒØ±Ø© ÙˆØ§Ù„ØªØ®Ø²ÙŠÙ†

## ğŸš€ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙ†ÙÙŠØ°

1. **ØªØ´ØºÙŠÙ„ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª:**
   ```bash
   node analyze-dependencies.js
   ```

2. **Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø®ØµØµ**
3. **ØªÙƒÙˆÙŠÙ† Ù…Ù„ÙØ§Øª electron-builder Ù…Ù†ÙØµÙ„Ø©**
4. **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù„ÙƒÙ„ Ø´Ø§Ø´Ø©**
5. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ÙˆØ§Ù„Ø£Ø­Ø¬Ø§Ù…**
6. **ØªÙˆØ«ÙŠÙ‚ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙˆØ²ÙŠØ¹**

Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¨ØªÙ†ÙÙŠØ° Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·Ø©ØŸ
